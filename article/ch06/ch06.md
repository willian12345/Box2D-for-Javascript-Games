2D物理引擎 Box2D for javascript Games  第六章 关节和马达

# 关节和马达

到现在你所见到的所有类型的刚体有着一些共同点：它们都是自由的并且在除碰撞的请款之外，彼此没有依赖。

有时你可能想要刚体之间进行约束。

如果你试想一下粉碎城堡（Crush the Castle）这款游戏，投掷器是通过某种方法将一系列的刚体连接在一起而组成的。

Box2D 允许我们通过关节（joint）来创建刚体之间的约束。

关节允许我们创建复杂的对象并使我们的游戏更加真实。

在本章，你将学习怎样创建比较常见类型的关节，并且你将会发现一些别的事情，

下面是本章的知识列表：

- 通过鼠标关节拾取、拖拽以及抛掷
- 通过距离关节保持刚体之间一个固定的距离
- 使用旋转关节使刚体旋转
- 使用发动机（motor）为你的游戏赋予生命

在本章最后，你将有能力通过投掷器摧毁愤怒的小鸟的关卡。

总之，关节也可以通过拾取和拖拽来实现刚体的交互。

这是你要学习的第一种类型的关节。

## 拾取并拖拽刚体——鼠标关节

最难的事情最先做

我们将从最难的关节之一开始

虽然蛋疼，但是必须去做，因为这样将使我们创建并测试别的关节变的容易（当你完成了很困难的事情后，转而去做相对简单些的事情时，这些事情将变得更加容易）

一个鼠标关节允许玩家通过鼠标来移动刚体，我们将创建具有以下特性的鼠标关节：

- 通过在刚体上点击来拾取它
- 只要按钮按下，刚体将随鼠标移动
- 一旦按钮被释放，刚体也将被释放

开始的步骤与你通过本书已经掌握的脚本并无什么区别

1. 在 main()方法中没有什么新的东西，只是放置了两个盒子形状到舞台上：
   
   大的 static 类型的地面和在其上面的很小的 dynamic 类型的盒子

   
